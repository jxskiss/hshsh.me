<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Shell on hshsh&#39;s little site</title>
    <link>http://hshsh.me/tags/shell/index.xml</link>
    <description>Recent content in Shell on hshsh&#39;s little site</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <atom:link href="http://hshsh.me/tags/shell/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Ubuntu &amp; Linux 常用命令笔记</title>
      <link>http://hshsh.me/post/2016-04-27-ubuntu-linux-shell-commands-notes/</link>
      <pubDate>Wed, 27 Apr 2016 12:00:00 +0800</pubDate>
      
      <guid>http://hshsh.me/post/2016-04-27-ubuntu-linux-shell-commands-notes/</guid>
      <description>

&lt;h2 id=&#34;系统配置&#34;&gt;系统配置&lt;/h2&gt;

&lt;h3 id=&#34;安装-oracle-jdk&#34;&gt;安装 Oracle JDK&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo add-apt-repository ppa:webupd8team/java
$ sudo apt-get update
$ sudo apt-get install oracle-java8-installer
$ sudo apt-get install oracle-java8-set-default
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;永久性修改系统dns&#34;&gt;永久性修改系统DNS&lt;/h3&gt;

&lt;p&gt;编辑&lt;code&gt;/etc/network/interfaces&lt;/code&gt;文件，在最后添加一行：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-conf&#34;&gt;dns-nameservers 8.8.8.8 8.8.4.4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或者可以修改&lt;code&gt;/etc/resolvconf/resolv.conf.d/base&lt;/code&gt;文件，默认为空，在其中插入：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-conf&#34;&gt;nameserver 8.8.8.8
nameserver 8.8.4.4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果有多个DNS，就每行添加一个。&lt;/p&gt;

&lt;p&gt;NOTE：亲测，以上设置，需要重启系统后生效！&lt;/p&gt;

&lt;h2 id=&#34;常用命令行工具&#34;&gt;常用命令行工具&lt;/h2&gt;

&lt;h3 id=&#34;查看进程&#34;&gt;查看进程&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ ps ax
$ ps aux
$ ps ax | less
$ ps ax | grep ...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;查看端口&#34;&gt;查看端口&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ netstat -tap | grep ...
$ netstat -na | grep ...
$ ss -tln | grep ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看指定进程占用的端口号：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ ps -ef | grep &amp;quot;process name&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;根据进程ID查看招用端口号：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;# redhat
$ netstat -nltp | grep pid
# ubuntu
$ netstat -anp | grep pid
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看占用某个端口的进程：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ lsof -i:port
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;监控日志文件&#34;&gt;监控日志文件&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ tail -f /path/to/file.log
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;重启-x-server&#34;&gt;重启 X Server&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ cat /etc/X11/default-display-manager
$ sudo restart {DISPLAY_MANAGER}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;输出重定向&#34;&gt;输出重定向&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ cat foo &amp;gt; foo.txt  # 重定向标准输出到文件
$ cat foo 2&amp;gt; foo.txt  # 重定向错误输出到文件
$ cat foo 2&amp;gt;&amp;amp;1  # 重定向错误输出到标准输出
$ cat foo &amp;gt; foo.txt 2&amp;gt;&amp;amp;1  # 重定向标准输出和错误输出到文件
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果要写入的文件权限不够，可以这样（&lt;code&gt;-a&lt;/code&gt;选项表示追加内容到文件）：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo sh -c &amp;quot;echo &#39;xxx&#39;&amp;quot; &amp;gt; /path/to/somefile
$ echo &#39;xxx&#39; | sudo tee -a /path/to/somefile
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>